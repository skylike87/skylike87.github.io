name: Daily Insight Issue Creator

on:
  schedule:
    # í•œêµ­ ì‹œê°„(KST) ì˜¤ì „ 5ì‹œëŠ” UTC ê¸°ì¤€ ì „ë‚  ì˜¤í›„ 8ì‹œì…ë‹ˆë‹¤.
    - cron: '0 20 * * *'
  workflow_dispatch: # ìˆ˜ë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

jobs:
  create-issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Get current date
        id: date
        run: echo "date=$(date +'%Y-%m-%d')" >> $GITHUB_OUTPUT

      - name: Create Daily Issue
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          gh issue create \
            --title "[Daily Insight] ${{ steps.date.outputs.date }}" \
            --body "## ì˜¤ëŠ˜ ì–»ì€ ì •ë³´ì™€ í†µì°°ì„ ì´ê³³ì— ììœ ë¡­ê²Œ ê¸°ë¡í•´ì£¼ì„¸ìš”. ğŸ¤– ì—ì´ì „íŠ¸ê°€ ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…ì„ ìƒì„±í•©ë‹ˆë‹¤." \
            --label "to-blog"
